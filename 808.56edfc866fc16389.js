"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[808],{5808:(L,l,a)=>{a.r(l),a.d(l,{HomePage:()=>v});var t=a(6242),f=a(1591),s=a(6205),p=a(2686),h=a(7398);let g=(()=>{var e;class r extends p.AE{constructor(){super(...arguments),this.document=p.Ps`
    query RandomPokemonList($limit: Int!, $offset: Int!) {
      species: pokemon_v2_pokemonspecies(
        limit: $limit
        offset: $offset
      ) {
        name
        id
        generation_id
      }
    }
  `}watchRandomPokemonList(n,o){return this.watch({limit:n,offset:o}).valueChanges.pipe((0,h.U)(c=>[...c.data.species].sort(()=>Math.random()-.5)))}randomizePokemonList(n){return n.sort(()=>Math.random()-.5)}}return(e=r).\u0275fac=(()=>{let i;return function(o){return(i||(i=t.n5z(e)))(o||e)}})(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),r})();var u=a(6814);const d=(e,r)=>r.id,k=e=>["/pokemon",e];function P(e,r){if(1&e&&(t.TgZ(0,"ion-item",5)(1,"ion-avatar",6),t._UZ(2,"img",7),t.qZA(),t.TgZ(3,"ion-label")(4,"a",8),t._uU(5),t.ALo(6,"titlecase"),t.qZA()()()),2&e){const i=r.$implicit;t.xp6(2),t.Q6J("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+i.id+".png",t.LSH),t.xp6(2),t.Q6J("routerLink",t.VKq(5,k,i.id)),t.xp6(1),t.Oqu(t.lcZ(6,3,i.name))}}let v=(()=>{var e;class r{constructor(){this.pokeListSvc=(0,t.f3M)(g),this.pokemons=(0,t.tdS)([]),this.limit=20,this.offset=0}ngOnInit(){this.getPokemons()}getPokemons(){this.pokeListSvc.watchRandomPokemonList(this.limit,this.offset).subscribe({next:n=>{this.pokemons.set(n)},error:n=>{console.log(n)}})}onIonInfinite(n){this.offset+=this.limit,this.limit+=10,this.pokeListSvc.watchRandomPokemonList(this.limit,this.offset).subscribe({next:o=>{this.pokemons.update(c=>c.concat(o)),n.target.complete()},error:o=>{console.log(o)}})}doRefresh(n){this.offset=0,this.limit=10,this.pokeListSvc.watchRandomPokemonList(this.limit,this.offset).subscribe({next:o=>{this.pokemons.set(o),n.target.complete()},error:o=>{console.log(o)}})}}return(e=r).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:8,vars:0,consts:[["id","container"],["slot","fixed",3,"ionRefresh"],["refreshingText","Updating PokeList..."],[3,"ionInfinite"],["loadingText","Cargando m\xe1s pokemons...","loadingSpinner","crescent"],[1,"ion-center"],["slot","start"],["alt","avatar",3,"src"],[3,"routerLink"],["class","ion-center"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-content",0)(1,"ion-refresher",1),t.NdJ("ionRefresh",function(m){return o.doRefresh(m)}),t._UZ(2,"ion-refresher-content",2),t.qZA(),t.TgZ(3,"ion-list"),t.SjG(4,P,7,7,"ion-item",9,d),t.qZA(),t.TgZ(6,"ion-infinite-scroll",3),t.NdJ("ionInfinite",function(m){return o.onIonInfinite(m)}),t._UZ(7,"ion-infinite-scroll-content",4),t.qZA()()),2&n&&(t.xp6(4),t.wJu(o.pokemons()))},dependencies:[f.rH,s.nJ,s.Wo,s.BJ,s.Ie,s.q_,s.W2,s.ju,s.MB,s.Q$,u.rS],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;justify-content:center}"]}),r})()}}]);