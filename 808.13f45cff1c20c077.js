"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[808],{5808:(v,l,a)=>{a.r(l),a.d(l,{HomePage:()=>k});var e=a(6242),m=a(1591),s=a(6205),f=a(2686);let p=(()=>{var t;class r extends f.AE{constructor(){super(...arguments),this.document=f.Ps`
  query pokemonList($limit: Int!, $offset: Int!) {
    species: pokemon_v2_pokemonspecies(
      order_by: { generation_id: asc, id: asc }
      limit: $limit
      offset: $offset
    ) {
      name
      id
      generation_id
    }
  }
`}}return(t=r).\u0275fac=(()=>{let i;return function(o){return(i||(i=e.n5z(t)))(o||t)}})(),t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),r})();var h=a(6814);const g=(t,r)=>r.id,u=t=>["/pokemon",t];function d(t,r){if(1&t&&(e.TgZ(0,"ion-item",5)(1,"ion-avatar",6),e._UZ(2,"img",7),e.qZA(),e.TgZ(3,"ion-label")(4,"a",8),e._uU(5),e.ALo(6,"titlecase"),e.qZA()()()),2&t){const i=r.$implicit;e.xp6(2),e.Q6J("src","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+i.id+".png",e.LSH),e.xp6(2),e.Q6J("routerLink",e.VKq(5,u,i.id)),e.xp6(1),e.Oqu(e.lcZ(6,3,i.name))}}let k=(()=>{var t;class r{constructor(){this.pokeListSvc=(0,e.f3M)(p),this.pokemons=(0,e.tdS)([]),this.limit=10,this.offset=0}ngOnInit(){this.getPokemons()}getPokemons(){this.pokeListSvc.watch({limit:this.limit,offset:0}).valueChanges.subscribe({next:n=>{this.pokemons.set(this.shuffleArray(n.data.species))},error:n=>{console.log(n)}})}onIonInfinite(n){this.offset+=this.limit,this.limit+=10,this.pokeListSvc.watch({limit:this.limit,offset:0}).valueChanges.subscribe({next:o=>{this.pokemons.set(this.shuffleArray(o.data.species)),n.target.complete()},error:o=>{console.log(o)}})}shuffleArray(n){return n.sort(()=>Math.random()-.5)}doRefresh(n){this.offset=0,this.limit=10,this.pokeListSvc.watch({limit:this.limit,offset:0}).valueChanges.subscribe({next:o=>{this.pokemons.set(this.shuffleArray(o.data.species)),n.target.complete()},error:o=>{console.log(o)}})}}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],standalone:!0,features:[e.jDz],decls:8,vars:0,consts:[["id","container"],["slot","fixed",3,"ionRefresh"],["refreshingText","Updating PokeList..."],[3,"ionInfinite"],["loadingText","Cargando m\xe1s pokemons...","loadingSpinner","crescent"],[1,"ion-center"],["slot","start"],["alt","avatar",3,"src"],[3,"routerLink"],["class","ion-center"]],template:function(n,o){1&n&&(e.TgZ(0,"ion-content",0)(1,"ion-refresher",1),e.NdJ("ionRefresh",function(c){return o.doRefresh(c)}),e._UZ(2,"ion-refresher-content",2),e.qZA(),e.TgZ(3,"ion-list"),e.SjG(4,d,7,7,"ion-item",9,g),e.qZA(),e.TgZ(6,"ion-infinite-scroll",3),e.NdJ("ionInfinite",function(c){return o.onIonInfinite(c)}),e._UZ(7,"ion-infinite-scroll-content",4),e.qZA()()),2&n&&(e.xp6(4),e.wJu(o.pokemons()))},dependencies:[m.rH,s.nJ,s.Wo,s.BJ,s.Ie,s.q_,s.W2,s.ju,s.MB,s.Q$,h.rS],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;justify-content:center}"]}),r})()}}]);